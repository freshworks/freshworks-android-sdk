
tasks.register('updateCanaryUrl', Task) {
    doLast {
        if (project.hasProperty("canaryUrl")) {
            println("Canary URL: ${project.canaryUrl}")
            Properties properties = new Properties()
            File propertiesFile = new File('canary.properties')
            propertiesFile.withOutputStream {
                properties.setProperty("url", canaryUrl)
                properties.store(it, null)
            }
        } else {
            println("Canary URL not found")
        }
    }
}
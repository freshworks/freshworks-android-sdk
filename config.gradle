
tasks.register('updateSdkProps', Task) {
    doLast {
        if (project.hasProperty("sdkVersion")) {
            Properties properties = new Properties()
            File propertiesFile = new File('sdk.properties')
            propertiesFile.withOutputStream {
                if(project.hasProperty("url")) {
                    properties.setProperty("url", url)
                } else {
                    properties.remove("url")
                }
                properties.setProperty("version", sdkVersion)
                properties.store(it, null)
            }
        } else {
            throw new GradleException("version property is missing")
        }
    }
}